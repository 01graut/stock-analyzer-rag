{"version":3,"sources":["useTableHeaderCell.js"],"sourcesContent":["import * as React from 'react';\nimport { getIntrinsicElementProps, useMergedRefs, slot } from '@fluentui/react-utilities';\nimport { useFocusWithin } from '@fluentui/react-tabster';\nimport { ArrowUpRegular, ArrowDownRegular } from '@fluentui/react-icons';\nimport { useARIAButtonShorthand } from '@fluentui/react-aria';\nimport { useTableContext } from '../../contexts/tableContext';\nconst sortIcons = {\n    ascending: /*#__PURE__*/ React.createElement(ArrowUpRegular, {\n        fontSize: 12\n    }),\n    descending: /*#__PURE__*/ React.createElement(ArrowDownRegular, {\n        fontSize: 12\n    })\n};\n/**\n * Create the state required to render TableHeaderCell.\n *\n * The returned state can be modified with hooks such as useTableHeaderCellStyles_unstable,\n * before being passed to renderTableHeaderCell_unstable.\n *\n * @param props - props from this instance of TableHeaderCell\n * @param ref - reference to root HTMLElement of TableHeaderCell\n */ export const useTableHeaderCell_unstable = (props, ref)=>{\n    const { noNativeElements, sortable: contextSortable } = useTableContext();\n    const { sortable = contextSortable } = props;\n    var _props_as;\n    const rootComponent = ((_props_as = props.as) !== null && _props_as !== void 0 ? _props_as : noNativeElements) ? 'div' : 'th';\n    var _props_sortDirection;\n    return {\n        components: {\n            root: rootComponent,\n            button: 'div',\n            sortIcon: 'span',\n            aside: 'span'\n        },\n        root: slot.always(getIntrinsicElementProps(rootComponent, {\n            // FIXME:\n            // `ref` is wrongly assigned to be `HTMLElement` instead of `HTMLDivElement`\n            // but since it would be a breaking change to fix it, we are casting ref to it's proper type\n            ref: useMergedRefs(ref, useFocusWithin()),\n            role: rootComponent === 'div' ? 'columnheader' : undefined,\n            'aria-sort': sortable ? (_props_sortDirection = props.sortDirection) !== null && _props_sortDirection !== void 0 ? _props_sortDirection : 'none' : undefined,\n            ...props\n        }), {\n            elementType: rootComponent\n        }),\n        aside: slot.optional(props.aside, {\n            elementType: 'span'\n        }),\n        sortIcon: slot.optional(props.sortIcon, {\n            renderByDefault: !!props.sortDirection,\n            defaultProps: {\n                children: props.sortDirection ? sortIcons[props.sortDirection] : undefined\n            },\n            elementType: 'span'\n        }),\n        button: slot.always(useARIAButtonShorthand(props.button, {\n            required: true,\n            defaultProps: {\n                as: 'div',\n                ...!sortable && {\n                    role: 'presentation',\n                    tabIndex: undefined\n                }\n            }\n        }), {\n            elementType: 'div'\n        }),\n        sortable,\n        noNativeElements\n    };\n};\n"],"names":["useTableHeaderCell_unstable","sortIcons","ascending","React","createElement","ArrowUpRegular","fontSize","descending","ArrowDownRegular","props","ref","noNativeElements","sortable","contextSortable","useTableContext","_props_as","rootComponent","as","_props_sortDirection","components","root","button","sortIcon","aside","slot","always","getIntrinsicElementProps","useMergedRefs","useFocusWithin","role","undefined","sortDirection","elementType","optional","renderByDefault","defaultProps","children","useARIAButtonShorthand","required","tabIndex"],"mappings":";;;;+BAsBiBA;;;eAAAA;;;;iEAtBM;gCACuC;8BAC/B;4BACkB;2BACV;8BACP;AAChC,MAAMC,YAAY;IACdC,WAAW,WAAW,GAAGC,OAAMC,aAAa,CAACC,0BAAc,EAAE;QACzDC,UAAU;IACd;IACAC,YAAY,WAAW,GAAGJ,OAAMC,aAAa,CAACI,4BAAgB,EAAE;QAC5DF,UAAU;IACd;AACJ;AASW,MAAMN,8BAA8B,CAACS,OAAOC;IACnD,MAAM,EAAEC,gBAAgB,EAAEC,UAAUC,eAAe,EAAE,GAAGC,IAAAA,6BAAe;IACvE,MAAM,EAAEF,WAAWC,eAAe,EAAE,GAAGJ;IACvC,IAAIM;IACJ,MAAMC,gBAAgB,AAAC,CAAA,AAACD,CAAAA,YAAYN,MAAMQ,EAAE,AAAD,MAAO,QAAQF,cAAc,KAAK,IAAIA,YAAYJ,gBAAe,IAAK,QAAQ;IACzH,IAAIO;IACJ,OAAO;QACHC,YAAY;YACRC,MAAMJ;YACNK,QAAQ;YACRC,UAAU;YACVC,OAAO;QACX;QACAH,MAAMI,oBAAI,CAACC,MAAM,CAACC,IAAAA,wCAAwB,EAACV,eAAe;YACtD,SAAS;YACT,4EAA4E;YAC5E,4FAA4F;YAC5FN,KAAKiB,IAAAA,6BAAa,EAACjB,KAAKkB,IAAAA,4BAAc;YACtCC,MAAMb,kBAAkB,QAAQ,iBAAiBc;YACjD,aAAalB,WAAW,AAACM,CAAAA,uBAAuBT,MAAMsB,aAAa,AAAD,MAAO,QAAQb,yBAAyB,KAAK,IAAIA,uBAAuB,SAASY;YACnJ,GAAGrB,KAAK;QACZ,IAAI;YACAuB,aAAahB;QACjB;QACAO,OAAOC,oBAAI,CAACS,QAAQ,CAACxB,MAAMc,KAAK,EAAE;YAC9BS,aAAa;QACjB;QACAV,UAAUE,oBAAI,CAACS,QAAQ,CAACxB,MAAMa,QAAQ,EAAE;YACpCY,iBAAiB,CAAC,CAACzB,MAAMsB,aAAa;YACtCI,cAAc;gBACVC,UAAU3B,MAAMsB,aAAa,GAAG9B,SAAS,CAACQ,MAAMsB,aAAa,CAAC,GAAGD;YACrE;YACAE,aAAa;QACjB;QACAX,QAAQG,oBAAI,CAACC,MAAM,CAACY,IAAAA,iCAAsB,EAAC5B,MAAMY,MAAM,EAAE;YACrDiB,UAAU;YACVH,cAAc;gBACVlB,IAAI;gBACJ,GAAG,CAACL,YAAY;oBACZiB,MAAM;oBACNU,UAAUT;gBACd,CAAC;YACL;QACJ,IAAI;YACAE,aAAa;QACjB;QACApB;QACAD;IACJ;AACJ"}