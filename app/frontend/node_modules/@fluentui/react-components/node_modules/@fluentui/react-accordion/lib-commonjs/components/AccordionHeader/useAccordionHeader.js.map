{"version":3,"sources":["useAccordionHeader.js"],"sourcesContent":["import * as React from 'react';\nimport { getIntrinsicElementProps, isResolvedShorthand, useEventCallback, slot } from '@fluentui/react-utilities';\nimport { useARIAButtonShorthand } from '@fluentui/react-aria';\nimport { useAccordionContext_unstable } from '../../contexts/accordion';\nimport { ChevronRightRegular } from '@fluentui/react-icons';\nimport { useFluent_unstable as useFluent } from '@fluentui/react-shared-contexts';\nimport { useAccordionItemContext_unstable } from '../../contexts/accordionItem';\n/**\n * Returns the props and state required to render the component\n * @param props - AccordionHeader properties\n * @param ref - reference to root HTMLElement of AccordionHeader\n */ export const useAccordionHeader_unstable = (props, ref)=>{\n    const { icon, button, expandIcon, inline = false, size = 'medium', expandIconPosition = 'start' } = props;\n    const { value, disabled, open } = useAccordionItemContext_unstable();\n    const requestToggle = useAccordionContext_unstable((ctx)=>ctx.requestToggle);\n    /**\n   * force disabled state on button if accordion isn't collapsible\n   * and this is the only item opened\n   */ const disabledFocusable = useAccordionContext_unstable((ctx)=>!ctx.collapsible && ctx.openItems.length === 1 && open);\n    const { dir } = useFluent();\n    // Calculate how to rotate the expand icon [>] (ChevronRightRegular)\n    let expandIconRotation;\n    if (expandIconPosition === 'end') {\n        // If expand icon is at the end, the chevron points up [^] when open, and down [v] when closed\n        expandIconRotation = open ? -90 : 90;\n    } else {\n        // Otherwise, the chevron points down [v] when open, and right [>] (or left [<] in RTL) when closed\n        expandIconRotation = open ? 90 : dir !== 'rtl' ? 0 : 180;\n    }\n    return {\n        disabled,\n        open,\n        size,\n        inline,\n        expandIconPosition,\n        components: {\n            root: 'div',\n            button: 'button',\n            expandIcon: 'span',\n            icon: 'div'\n        },\n        root: slot.always(getIntrinsicElementProps('div', {\n            // FIXME:\n            // `ref` is wrongly assigned to be `HTMLElement` instead of `HTMLDivElement`\n            // but since it would be a breaking change to fix it, we are casting ref to it's proper type\n            ref: ref,\n            ...props\n        }), {\n            elementType: 'div'\n        }),\n        icon: slot.optional(icon, {\n            elementType: 'div'\n        }),\n        expandIcon: slot.optional(expandIcon, {\n            renderByDefault: true,\n            defaultProps: {\n                children: /*#__PURE__*/ React.createElement(ChevronRightRegular, {\n                    style: {\n                        transform: `rotate(${expandIconRotation}deg)`\n                    }\n                }),\n                'aria-hidden': true\n            },\n            elementType: 'span'\n        }),\n        button: slot.always({\n            ...useARIAButtonShorthand(button, {\n                required: true,\n                defaultProps: {\n                    disabled,\n                    disabledFocusable,\n                    'aria-expanded': open,\n                    type: 'button'\n                }\n            }),\n            onClick: useEventCallback((event)=>{\n                if (isResolvedShorthand(button)) {\n                    var _button_onClick;\n                    (_button_onClick = button.onClick) === null || _button_onClick === void 0 ? void 0 : _button_onClick.call(button, event);\n                }\n                if (!event.defaultPrevented) {\n                    requestToggle({\n                        value,\n                        event\n                    });\n                }\n            })\n        }, {\n            elementType: 'button'\n        })\n    };\n};\n"],"names":["useAccordionHeader_unstable","props","ref","icon","button","expandIcon","inline","size","expandIconPosition","value","disabled","open","useAccordionItemContext_unstable","requestToggle","useAccordionContext_unstable","ctx","disabledFocusable","collapsible","openItems","length","dir","useFluent","expandIconRotation","components","root","slot","always","getIntrinsicElementProps","elementType","optional","renderByDefault","defaultProps","children","React","createElement","ChevronRightRegular","style","transform","useARIAButtonShorthand","required","type","onClick","useEventCallback","event","isResolvedShorthand","_button_onClick","call","defaultPrevented"],"mappings":";;;;+BAWiBA;;;eAAAA;;;;iEAXM;gCAC+D;2BAC/C;2BACM;4BACT;qCACY;+BACC;AAKtC,MAAMA,8BAA8B,CAACC,OAAOC;IACnD,MAAM,EAAEC,IAAI,EAAEC,MAAM,EAAEC,UAAU,EAAEC,SAAS,KAAK,EAAEC,OAAO,QAAQ,EAAEC,qBAAqB,OAAO,EAAE,GAAGP;IACpG,MAAM,EAAEQ,KAAK,EAAEC,QAAQ,EAAEC,IAAI,EAAE,GAAGC,IAAAA,+CAAgC;IAClE,MAAMC,gBAAgBC,IAAAA,uCAA4B,EAAC,CAACC,MAAMA,IAAIF,aAAa;IAC3E;;;GAGD,GAAG,MAAMG,oBAAoBF,IAAAA,uCAA4B,EAAC,CAACC,MAAM,CAACA,IAAIE,WAAW,IAAIF,IAAIG,SAAS,CAACC,MAAM,KAAK,KAAKR;IAClH,MAAM,EAAES,GAAG,EAAE,GAAGC,IAAAA,uCAAS;IACzB,oEAAoE;IACpE,IAAIC;IACJ,IAAId,uBAAuB,OAAO;QAC9B,8FAA8F;QAC9Fc,qBAAqBX,OAAO,CAAC,KAAK;IACtC,OAAO;QACH,mGAAmG;QACnGW,qBAAqBX,OAAO,KAAKS,QAAQ,QAAQ,IAAI;IACzD;IACA,OAAO;QACHV;QACAC;QACAJ;QACAD;QACAE;QACAe,YAAY;YACRC,MAAM;YACNpB,QAAQ;YACRC,YAAY;YACZF,MAAM;QACV;QACAqB,MAAMC,oBAAI,CAACC,MAAM,CAACC,IAAAA,wCAAwB,EAAC,OAAO;YAC9C,SAAS;YACT,4EAA4E;YAC5E,4FAA4F;YAC5FzB,KAAKA;YACL,GAAGD,KAAK;QACZ,IAAI;YACA2B,aAAa;QACjB;QACAzB,MAAMsB,oBAAI,CAACI,QAAQ,CAAC1B,MAAM;YACtByB,aAAa;QACjB;QACAvB,YAAYoB,oBAAI,CAACI,QAAQ,CAACxB,YAAY;YAClCyB,iBAAiB;YACjBC,cAAc;gBACVC,UAAU,WAAW,GAAGC,OAAMC,aAAa,CAACC,+BAAmB,EAAE;oBAC7DC,OAAO;wBACHC,WAAW,CAAC,OAAO,EAAEf,mBAAmB,IAAI,CAAC;oBACjD;gBACJ;gBACA,eAAe;YACnB;YACAM,aAAa;QACjB;QACAxB,QAAQqB,oBAAI,CAACC,MAAM,CAAC;YAChB,GAAGY,IAAAA,iCAAsB,EAAClC,QAAQ;gBAC9BmC,UAAU;gBACVR,cAAc;oBACVrB;oBACAM;oBACA,iBAAiBL;oBACjB6B,MAAM;gBACV;YACJ,EAAE;YACFC,SAASC,IAAAA,gCAAgB,EAAC,CAACC;gBACvB,IAAIC,IAAAA,mCAAmB,EAACxC,SAAS;oBAC7B,IAAIyC;oBACHA,CAAAA,kBAAkBzC,OAAOqC,OAAO,AAAD,MAAO,QAAQI,oBAAoB,KAAK,IAAI,KAAK,IAAIA,gBAAgBC,IAAI,CAAC1C,QAAQuC;gBACtH;gBACA,IAAI,CAACA,MAAMI,gBAAgB,EAAE;oBACzBlC,cAAc;wBACVJ;wBACAkC;oBACJ;gBACJ;YACJ;QACJ,GAAG;YACCf,aAAa;QACjB;IACJ;AACJ"}